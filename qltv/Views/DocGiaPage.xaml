<ContentPage
    x:Class="qltv.Views.DocGiaPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Quản Lý Độc Giả"
    BackgroundColor="#F5F5F5">

    <Grid Padding="15"
          ColumnDefinitions="2*,3*"
          ColumnSpacing="15">

        <!-- ================= LEFT: DANH SÁCH ================= -->
        <Frame Grid.Column="0"
               CornerRadius="10"
               BackgroundColor="White"
               Padding="10"
               HasShadow="True">

            <VerticalStackLayout Spacing="10">

                <Label Text="Danh Sách Độc Giả"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="#2E7D32"/>

                <CollectionView
                    ItemsSource="{Binding DocGiaList}"
                    SelectedItem="{Binding SelectedDocGia}"
                    SelectionMode="Single">

                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Frame Padding="10"
                                   Margin="5"
                                   CornerRadius="8"
                                   BackgroundColor="#FAFAFA"
                                   HasShadow="False">

                                <VerticalStackLayout>
                                    <Label Text="{Binding MaDocGia}"
                                           FontSize="14"/>
                                    <Label Text="{Binding TenDocGia}"
                                           FontAttributes="Bold"
                                           FontSize="14"/>

                                    <Label Text="{Binding SoDienThoai}"
                                           FontSize="12"
                                           TextColor="Gray"/>
                                    <Label Text="{Binding Email}"
                                           FontSize="12"
                                           TextColor="Gray"/>
                                </VerticalStackLayout>

                            </Frame>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

            </VerticalStackLayout>
        </Frame>

        <!-- ================= RIGHT: FORM ================= -->
        <Frame Grid.Column="1"
               CornerRadius="10"
               BackgroundColor="White"
               Padding="15"
               HasShadow="True">

            <VerticalStackLayout Spacing="12">

                <Label Text="Thông Tin Độc Giả"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="#2E7D32"/>

                <Entry Placeholder="Mã độc giả"
                       Text="{Binding SelectedDocGia.MaDocGia}" />

                <Entry Placeholder="Tên độc giả"
                       Text="{Binding SelectedDocGia.TenDocGia}" />

                <Entry Placeholder="Điện thoại"
                       Keyboard="Telephone"
                       Text="{Binding SelectedDocGia.DienThoai}" />

                <Entry Placeholder="Email"
                       Keyboard="Email"
                       Text="{Binding SelectedDocGia.Email}" />

                <!-- BUTTONS -->
                <HorizontalStackLayout Spacing="10"
                                       Margin="0,10,0,0">

                    <Button Text="Thêm"
                            Command="{Binding ThemDocGiaCommand}"
                            BackgroundColor="#4CAF50"
                            TextColor="White"
                            CornerRadius="8"
                            HorizontalOptions="FillAndExpand"/>

                    <Button Text="Sửa"
                            Command="{Binding SuaDocGiaCommand}"
                            BackgroundColor="#2196F3"
                            TextColor="White"
                            CornerRadius="8"
                            HorizontalOptions="FillAndExpand"/>

                    <Button Text="Xóa"
                            Command="{Binding XoaDocGiaCommand}"
                            BackgroundColor="#F44336"
                            TextColor="White"
                            CornerRadius="8"
                            HorizontalOptions="FillAndExpand"/>
                </HorizontalStackLayout>

            </VerticalStackLayout>
        </Frame>

    </Grid>
</ContentPage>
